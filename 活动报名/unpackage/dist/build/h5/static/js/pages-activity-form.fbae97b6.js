(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-activity-form"],{"0142":function(t,e,a){"use strict";var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"detail"},[a("v-uni-view",{staticClass:"bg",style:"background-image: url("+(t.baseUrl+t.formData.active_images)+");"},[a("v-uni-view",{staticClass:"back icon xiangqian",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goback.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"title"},[t._v("活动报名资料")]),t.findItem("name")?a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("姓名")]),a("v-uni-input",{attrs:{type:"text",placeholder:"请输入您的姓名"},model:{value:t.commitData.name,callback:function(e){t.$set(t.commitData,"name",e)},expression:"commitData.name"}})],1):t._e(),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("性别")]),a("v-uni-radio-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.radioChange.apply(void 0,arguments)}}},[a("v-uni-label",{staticClass:"radio"},[a("v-uni-radio",{attrs:{value:"男",checked:"true",color:"#DD524D"}}),t._v("男")],1),a("v-uni-label",{staticClass:"radio"},[a("v-uni-radio",{attrs:{value:"女",color:"#DD524D"}}),t._v("女")],1)],1)],1),t.findItem("id_number")?a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("身份证号码")]),a("v-uni-input",{attrs:{type:"text",placeholder:"请输入15或18位的身份证"},model:{value:t.commitData.id_number,callback:function(e){t.$set(t.commitData,"id_number",e)},expression:"commitData.id_number"}})],1):t._e(),t.findItem("phone")?a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("手机号码")]),a("v-uni-input",{attrs:{type:"number",placeholder:"请输入您的手机号码"},model:{value:t.commitData.phone,callback:function(e){t.$set(t.commitData,"phone",e)},expression:"commitData.phone"}}),a("v-uni-text",{staticClass:"send",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMsg.apply(void 0,arguments)}}},[t._v(t._s(t.sendFlag?"发送":t.timeNum+"s"))])],1):t._e(),t.findItem("phone")?a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("验证码")]),a("v-uni-input",{attrs:{type:"number",placeholder:"请输入验证码"},model:{value:t.commitData.code,callback:function(e){t.$set(t.commitData,"code",e)},expression:"commitData.code"}})],1):t._e(),t.findItem("emergency_contact")?a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("紧急联系人")]),a("v-uni-input",{attrs:{type:"text",placeholder:"请输入紧急联系人"},model:{value:t.commitData.emergency_contact,callback:function(e){t.$set(t.commitData,"emergency_contact",e)},expression:"commitData.emergency_contact"}})],1):t._e(),t.findItem("contact_address")?a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("联系地址")]),a("v-uni-input",{attrs:{type:"text",placeholder:"详细地址,用于奖品发放"},model:{value:t.commitData.contact_address,callback:function(e){t.$set(t.commitData,"contact_address",e)},expression:"commitData.contact_address"}})],1):t._e(),t.findItem("emergency_phone")?a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("紧急联系人电话")]),a("v-uni-input",{attrs:{type:"number",placeholder:"请输入紧急联系人电话"},model:{value:t.commitData.emergency_phone,callback:function(e){t.$set(t.commitData,"emergency_phone",e)},expression:"commitData.emergency_phone"}})],1):t._e(),t.findItem("introduce_oneself")?a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("自我介绍")]),a("v-uni-textarea",{attrs:{"auto-height":!0,placeholder:"请输入自我介绍"},model:{value:t.commitData.introduce_oneself,callback:function(e){t.$set(t.commitData,"introduce_oneself",e)},expression:"commitData.introduce_oneself"}})],1):t._e(),t.findItem("hobby")?a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("兴趣爱好")]),a("v-uni-textarea",{attrs:{"auto-height":!0,placeholder:"请输入兴趣爱好"},model:{value:t.commitData.hobby,callback:function(e){t.$set(t.commitData,"hobby",e)},expression:"commitData.hobby"}})],1):t._e(),t.findItem("area")?a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("选择报名场馆")]),a("v-uni-picker",{staticClass:"picker-item",attrs:{mode:"selector",value:t.commitData.area,range:t.formData.area},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.pickChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"between"},[t._v(t._s(t.commitData.area)),a("v-uni-view",{staticClass:"icon xiangqian show-icon",staticStyle:{transform:"rotate(-90deg)"}})],1)],1)],1):t._e(),t.findItem("height")||t.findItem("weight")?a("v-uni-view",{staticClass:"flex"},[t.findItem("height")?a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("身高")]),a("v-uni-input",{attrs:{type:"text",placeholder:"cm"},model:{value:t.commitData.height,callback:function(e){t.$set(t.commitData,"height",e)},expression:"commitData.height"}})],1):t._e(),t.findItem("weight")?a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"label"},[t._v("体重")]),a("v-uni-input",{attrs:{type:"text",placeholder:"kg"},model:{value:t.commitData.weight,callback:function(e){t.$set(t.commitData,"weight",e)},expression:"commitData.weight"}})],1):t._e()],1):t._e(),a("v-uni-view",{staticClass:"notice"},[a("v-uni-checkbox",{staticStyle:{transform:"scale(0.6)"},attrs:{value:"box",color:"#DD524D",checked:t.agree},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkboxChange.apply(void 0,arguments)}}}),t._v("本人已阅读并且同意《*******用户协议》")],1),a("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pay.apply(void 0,arguments)}}},[t._v("立即报名")])],1)],1)},o=[];a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}))},"1de5":function(t,e,a){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"393c":function(t,e,a){var i=a("24fb"),n=a("1de5"),o=a("396e");e=i(!1);var s=n(o);e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.bg[data-v-2b702474]{width:100%;height:%?500?%;background-image:url('+s+");background-size:cover;background-repeat:no-repeat}.bg .back[data-v-2b702474]{position:absolute;top:%?80?%;left:%?40?%;color:#fff;padding:%?5?% %?25?%;font-size:%?30?%;border-radius:%?40?%;background-color:hsla(0,0%,100%,.1)}.content[data-v-2b702474]{background-color:#fff;border-radius:%?30?%;margin-top:%?-30?%;overflow:hidden;padding:%?20?%}.title[data-v-2b702474]{text-align:center;padding:%?20?% 0}.form-item[data-v-2b702474]{background-color:#ddd;border-radius:%?10?%;margin:%?20?% %?10?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;justify-content:start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?30?%}.form-item .send[data-v-2b702474]{background-color:#dd524d;padding:%?10?% %?20?%;color:#fff;font-size:%?28?%;border-radius:%?10?%}.form-item .label[data-v-2b702474]{min-width:%?60?%;font-size:%?30?%;padding:%?20?%}.form-item uni-input[data-v-2b702474]{font-size:%?30?%}.flex[data-v-2b702474]{display:-webkit-box;display:-webkit-flex;display:flex;margin-top:%?-20?%}.between[data-v-2b702474]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.show-icon[data-v-2b702474]{display:block;background-color:#eee;font-size:%?28?%;text-align:center;border-radius:50%;margin-left:%?10?%}.picker-item[data-v-2b702474]{padding:0 %?20?% 0 0;-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#aaa}.notice[data-v-2b702474]{font-size:%?24?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.radio[data-v-2b702474]{margin-left:%?30?%}.btn[data-v-2b702474]{width:%?200?%;display:inline-block;padding:%?20?% %?50?%;background-color:#dd524d;margin:%?40?% auto;font-size:%?30?%;color:#fff;text-align:center;border-radius:%?50?%;-webkit-transform:translateX(calc(100% - %?100?%));transform:translateX(calc(100% - %?100?%))}",""]),t.exports=e},"396e":function(t,e,a){t.exports=a.p+"static/img/占位图.3235c5f4.png"},5128:function(t,e,a){"use strict";var i=a("f881"),n=a.n(i);n.a},"74e86":function(t,e,a){"use strict";a.r(e);var i=a("0142"),n=a("91db");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("5128");var s,c=a("f0c5"),l=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"2b702474",null,!1,i["a"],s);e["default"]=l.exports},"91db":function(t,e,a){"use strict";a.r(e);var i=a("bfcc"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},bfcc:function(t,e,a){"use strict";(function(t){var i=a("ee27");a("7db0"),a("ac1f"),a("841c"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("f3f3")),o={data:function(){return{timer:"",timeNum:5,sendFlag:!0,oid:"",baseUrl:"http://47.106.246.68:8000/",formData:{},pickdata:[{key:1,value:"场馆一"},{key:2,value:"场馆二"}],pickvalue:"选择场馆",agree:!0,commitData:{name:"",sex:"男",id_number:"",phone:"",emergency_contact:"",emergency_phone:"",introduce_oneself:"",hobby:"",area:"",height:"",weight:"",code:"",contact_address:""},isReady:!1}},beforeMount:function(){this.oid=localStorage.getItem("oid");var t=JSON.parse(decodeURIComponent(location.search.substr(6)));this.formData=t},methods:{truePay:function(e){var a=this;uni.request({url:"http://ct.sccdlc.com/api/wx/pay",method:"POST",data:{openid:this.oid,order_id:e},success:function(e){t("log",e.data.data.pay," at pages\\activity\\form.vue:134"),a.jsApiCall(JSON.parse(e.data.data.pay))}})},jsApiCall:function(t){WeixinJSBridge.invoke("getBrandWCPayRequest",t,(function(t){"get_brand_wcpay_request:ok"==t.err_msg?(uni.showToast({title:"支付成功！",icon:"none"}),uni.navigateTo({url:"../tabBar/user/user"})):uni.showToast({title:t.err_code+t.err_desc+t.err_msg})}))},sendMsg:function(){var t=this;if(this.commitData.phone){this.sendFlag?(uni.request({url:"http://ct.sccdlc.com/api/send/msg",data:{phone:this.commitData.phone,openid:this.oid},method:"POST",success:function(t){200==t.data.code?uni.showToast({title:"发送成功！",icon:"none"}):uni.showToast({title:"发送失败，请稍后再试",icon:"none"})}}),this.sendFlag=!1,this.timer=setInterval((function(){t.timeNum--,t.timeNum<=0&&(clearInterval(t.timer),t.sendFlag=!0,t.timeNum=5)}),1e3)):uni.showToast({title:"请稍后再试",icon:"none"})}else uni.showToast({icon:"none",title:"请输入手机号"})},checkForm:function(){for(var t in this.formData.fillin_field_list)if(!this.commitData[this.formData.fillin_field_list[t].field])return uni.showToast({icon:"none",title:"请输入"+this.formData.fillin_field_list[t].lable}),!1;return this.commitData.code?!!this.agree||(uni.showToast({icon:"none",title:"未同意用户协议将不能参加报名"}),!1):(uni.showToast({icon:"none",title:"请输入验证码"}),!1)},pay:function(){var t=this,e=t.checkForm();e&&uni.request({url:"http://ct.sccdlc.com/api/user/enroll",data:(0,n.default)({},t.commitData,{openid:t.oid,active_id:t.formData.active_id}),method:"POST",success:function(e){t.orderid=e.data.data.order_id,200==e.data.code?(uni.showToast({title:"报名成功！",icon:"none"}),uni.navigateTo({url:"../goods/goods?orderid=".concat(t.orderid)})):uni.showToast({title:"报名失败！"+e.data.msg,icon:"none"})}})},findItem:function(t){var e=this.formData.fillin_field_list&&this.formData.fillin_field_list.find((function(e){return e.field==t}));return e||!1},radioChange:function(t){this.commitData.sex=t.detail.value||"男"},checkboxChange:function(t){this.agree=!this.agree},pickChange:function(t){this.commitData.area=this.formData.area[t.detail.value]},goback:function(){uni.navigateBack()},commit:function(){t("log",2," at pages\\activity\\form.vue:295"),uni.navigateTo({url:"/pages/activity/form"})}}};e.default=o}).call(this,a("0de9")["log"])},f881:function(t,e,a){var i=a("393c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("d833a73e",i,!0,{sourceMap:!1,shadowMode:!1})}}]);